# p1

## 应用服务架构发展

对于单体架构，我们根据设计期和开发实现期的不同模式和划分结构，可以分为：

简单单体模式：代码层面没有拆分，所有的业务逻辑都在一个项目（Project）里打包成一个二进制的编译后文件，通过这个文件进行部署，并提供业务能力；

MVC 模式：系统内每个模块的功能组件按照不同的职责划分为模型（Model）、视图（View）、控制器（Controller）等角色，并以此来组织研发实现工作；

前后端分离模式：将前后端代码耦合的设计改为前端逻辑和后端逻辑独立编写实现的处理模式；

组件模式：系统的每一个模块拆分为一个子项目（SubProject），每个模块独立编译打包成一个组件，然后所有需要的组件一起再部署到同一个容器里；

类库模式：A 系统需要复用 B 系统的某些功能，这时可以直接把 B 系统的某些组件作为依赖库，打包到 A 系统来使用。

对于分布式架构，我们根据设计期的架构思想和运行期的不同结构，可以分为：

面向服务架构（Service Oriented Architecture）：以业务服务的角度和服务总线的方式（一般是 WebService 与 ESB）考虑系统架构和企业 IT 治理；

分布式服务架构（Distributed Service Architecture）：基于去中心化的分布式服务框架与技术，考虑系统架构和服务治理；

微服务架构（MicroServices Architecture）：微服务架构可以看做是面向服务架构和分布式服务架构的拓展，使用更细粒度的服务（所以叫微服务）和一组设计准则来考虑大规模的复杂系统架构设计。

也有人把如上的各个架构风格总结为四个大的架构发展阶段：

1. 单体架构阶段
2. 垂直架构阶段
3. SOA 架构阶段
4. 微服务架构阶段


## 虚拟化发展历史

Hypervisor 或 VMM（virtual machine monitor）

1961 年，由麻省理工学院开始研发 CTSS（Compatible Time Sharing System，兼容性分时系统）项目，并由 IBM 提供硬件设备和工程师进行支持。分时系统可以说是硬件虚拟化的根本。

1962年，Atlas 1诞生，实现了虚拟内存概念的计算机，supervisor通过特殊指令来管理硬件资源supervisor --> master control program --> OS

60s IBM 实现了硬件共享、时间共享、内存分页和虚拟内存管理等技术突破

74年 VMM充分条件：

1. 资源控制（Resource Control）。控制程序必须能够管理所有的系统资源。
2. 等价性（Equivalence）。在控制程序管理下运行的程序（包括操作系统），除时序和资源可用性之外的行为应该与没有控制程序时的完全一致，且预先编写的特权指令可以自由地执行。
3. 效率性（Efficiency）。绝大多数的客户机指令应该由主机硬件直接执行而无需控制程序的参与。

79年 chroot机制，文件系统隔离

80s~90s x86时代来临和桌面部署的增长 IT基础架构难题：
- 基础架构利用率低
- 基础架构成本高
- IT运维成本高
- 故障切换和灾难保护不足
- 最终用户桌面的维护成本高昂

87~之后，虚拟化新的历史使命，使其爆发式的增长


2000年之后基于二进制翻译的全虚拟化技术

全虚拟化

半虚拟化

2007 virtualbox 发布，Xen被Ctrix收购，KVM引入Linux 2.6.20

2011 Openstack

2013 docker， 2014 docker  v1.0

2015年7月 kubernetes 2.1发布

## 研发效率的需求

DevOps和敏捷
